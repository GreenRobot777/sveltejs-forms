import{s as n,y as t}from"./index.58affbf9.js";var e=[];function r(r){var f,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,a=[];function o(t){if(n(r,t)&&(r=t,f)){for(var i=!e.length,o=0;o<a.length;o+=1){var u=a[o];u[1](),e.push(u,r)}if(i){for(var l=0;l<e.length;l+=2)e[l][0](e[l+1]);e.length=0}}}return{set:o,update:function(n){o(n(r))},subscribe:function(n){var e=[n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t];return a.push(e),1===a.length&&(f=i(o)||t),n(r),function(){var n=a.indexOf(e);-1!==n&&a.splice(n,1),0===a.length&&(f(),f=null)}}}}export{r as w};
